<?xml version="1.0" encoding="utf-8"?>
<odoo>

  <record id="view_order_form" model="ir.ui.view">
    <field name="name">{{ name }}.view_order_form</field>
    <field name="model">sale.order</field>
    <field name="inherit_id" ref="sale.view_order_form" />
    <field name="arch" type="xml">
      <xpath expr="//field[@name='order_line']/tree[1]/field[@name='sequence']" position="after">
        <field name="position"/>
      </xpath>
    </field>
  </record>

  <record id="view_tree" model="ir.ui.view">
    <field name="name">{{ name }}.view_tree</field>
    <field name="model">{{ name }}.document</field>
    <field name="arch" type="xml">
      <tree>
        <field name="name"/>
        <field name="value"/>
      </tree>
    </field>
  </record>

  <record model="ir.actions.act_window" id="document_action">
    <field name="name">{{ name }}.document_action</field>
    <field name="res_model">{{ name }}.document</field>
    <field name="view_mode">tree,form</field>
  </record>

  <record model="ir.actions.server" id="document_server_action">
    <field name="name">{{ name }}.document_server_action</field>
    <field name="model_id" ref="model_{{ name }}_document"/>
    <field name="state">code</field>
    <field name="code">
      action = {
        "type": "ir.actions.act_window",
        "view_mode": "tree,form",
        "res_model": model._name,
      }
    </field>
  </record>

  <menuitem name="{{ name }}" id="{{ name }}.menu_root"/>

  <menuitem name="Documents" id="{{ name }}.documents_menu" parent="{{ name }}.menu_root"/>
  <menuitem name="Configurations" id="{{ name }}.configuration_menu" parent="{{ name }}.menu_root"/>

  <menuitem name="Documents" id="{{ name }}.document_menu" parent="{{ name }}.documents_menu" action="{{ name }}.action"/>
  <menuitem name="Server to list" id="{{ name }}.server_action_menu" parent="{{ name }}.configuration_menu" action="{{ name }}.server_action"/>

</odoo>
